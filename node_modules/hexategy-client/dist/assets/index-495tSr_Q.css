:root{--font-sans: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;--font-mono: "JetBrains Mono", "Fira Code", "Cascadia Code", ui-monospace, monospace;--text-xs: .6875rem;--text-sm: .8125rem;--text-base: .9375rem;--text-lg: 1.125rem;--text-xl: 1.5rem;--text-2xl: 2rem;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 14px;--radius-full: 9999px;--space-1: 4px;--space-2: 8px;--space-3: 12px;--space-4: 16px;--space-5: 20px;--space-6: 24px;--space-8: 32px;--transition-fast: .12s ease;--transition-base: .2s ease}[data-theme=dark],:root{--bg: #111318;--bg-surface: #1c1f27;--bg-elevated: #252931;--bg-hover: #2e3340;--border: rgba(255, 255, 255, .08);--border-focus: rgba(255, 255, 255, .25);--text-primary: #e8eaf0;--text-secondary: #8c92a4;--text-muted: #565c70;--accent: #6a8fff;--accent-hover: #859fff;--accent-muted: rgba(106, 143, 255, .15);--danger: #e05c5c;--success: #5ce07a;--warning: #e0c45c;--shadow-sm: 0 1px 3px rgba(0, 0, 0, .4);--shadow-md: 0 4px 16px rgba(0, 0, 0, .5);--shadow-lg: 0 8px 32px rgba(0, 0, 0, .6)}[data-theme=light]{--bg: #f4f5f7;--bg-surface: #ffffff;--bg-elevated: #eef0f4;--bg-hover: #e4e7ed;--border: rgba(0, 0, 0, .1);--border-focus: rgba(0, 0, 0, .3);--text-primary: #1a1d26;--text-secondary: #5a5f72;--text-muted: #9096aa;--accent: #3a67e8;--accent-hover: #2a57d8;--accent-muted: rgba(58, 103, 232, .1);--danger: #d94040;--success: #30a84e;--warning: #c4920a;--shadow-sm: 0 1px 3px rgba(0, 0, 0, .1);--shadow-md: 0 4px 16px rgba(0, 0, 0, .12);--shadow-lg: 0 8px 32px rgba(0, 0, 0, .16)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{height:100%;overflow:hidden}body{font-family:var(--font-sans);font-size:var(--text-base);color:var(--text-primary);background:var(--bg);line-height:1.5;-webkit-font-smoothing:antialiased}#app-header{position:fixed;top:0;left:0;right:0;z-index:100;height:40px;display:flex;align-items:center;justify-content:space-between;padding:0 var(--space-4);background:var(--bg-surface);border-bottom:1px solid var(--border);pointer-events:auto}.header-left,.header-right{display:flex;align-items:center;gap:var(--space-2)}.app-name{font-size:var(--text-sm);font-weight:600;letter-spacing:.04em;color:var(--text-secondary);user-select:none}.icon-btn{display:inline-flex;align-items:center;justify-content:center;width:26px;height:26px;padding:0;border:none;border-radius:var(--radius-sm);background:transparent;color:var(--text-muted);font-size:var(--text-sm);cursor:pointer;transition:color var(--transition-fast),background var(--transition-fast)}.icon-btn:hover{color:var(--text-primary);background:var(--bg-hover)}.locale-select{appearance:none;border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-surface);color:var(--text-secondary);font-size:var(--text-xs);font-family:var(--font-sans);padding:2px 6px;cursor:pointer;outline:none}.locale-select:focus{border-color:var(--border-focus)}#app-root{position:fixed;inset:40px 0 0;overflow:auto}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-2) var(--space-4);border:none;border-radius:var(--radius-md);font-family:var(--font-sans);font-size:var(--text-sm);font-weight:500;cursor:pointer;transition:background var(--transition-fast),opacity var(--transition-fast);white-space:nowrap}.btn:disabled{opacity:.4;cursor:not-allowed}.btn-primary{background:var(--accent);color:#fff}.btn-primary:hover:not(:disabled){background:var(--accent-hover)}.btn-secondary{background:var(--bg-elevated);color:var(--text-primary);border:1px solid var(--border)}.btn-secondary:hover:not(:disabled){background:var(--bg-hover)}.input{width:100%;padding:var(--space-2) var(--space-3);border:1px solid var(--border);border-radius:var(--radius-md);background:var(--bg-surface);color:var(--text-primary);font-family:var(--font-sans);font-size:var(--text-base);outline:none;transition:border-color var(--transition-fast)}.input:focus{border-color:var(--border-focus)}.input::placeholder{color:var(--text-muted)}.game-layout{position:relative;width:100%;height:100%}.game-canvas{display:block;width:100%;height:100%;cursor:default}.hud-overlay{position:absolute;inset:0;pointer-events:none}.hud-overlay>*{pointer-events:auto}.region-ctx-menu{position:fixed;z-index:150;min-width:168px;background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-md);box-shadow:var(--shadow-md);padding:var(--space-1) 0;user-select:none;pointer-events:auto}.ctx-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-2) var(--space-3);gap:var(--space-2);border-bottom:1px solid var(--border)}.ctx-troops{font-size:var(--text-sm);font-weight:600;color:var(--text-primary)}.ctx-owner{font-size:var(--text-xs);font-weight:500;max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ctx-item{display:block;width:100%;padding:var(--space-2) var(--space-3);text-align:left;background:none;border:none;color:var(--text-primary);font-family:var(--font-sans);font-size:var(--text-sm);cursor:pointer;transition:background var(--transition-fast)}.ctx-item:not(:disabled):hover{background:var(--bg-hover)}.ctx-item:disabled{color:var(--text-muted);cursor:default}.modal{position:fixed;inset:0;z-index:200;display:grid;place-items:center}.modal[hidden]{display:none}.modal-backdrop{position:absolute;inset:0;background:#0009;backdrop-filter:blur(2px);cursor:pointer}.modal-dialog{position:relative;background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);box-shadow:var(--shadow-lg);width:min(480px,calc(100vw - 2rem));max-height:calc(100vh - 4rem);display:flex;flex-direction:column;outline:none}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-4) var(--space-6);border-bottom:1px solid var(--border)}.modal-header h2{font-size:var(--text-lg);font-weight:600}.modal-close{background:transparent;border:none;color:var(--text-muted);font-size:var(--text-lg);cursor:pointer;line-height:1;padding:2px 6px;border-radius:var(--radius-sm);transition:color var(--transition-fast)}.modal-close:hover{color:var(--text-primary)}.modal-body{overflow-y:auto;padding:var(--space-5) var(--space-6);flex:1}.waiting-room{padding:var(--space-8);display:flex;flex-direction:column;gap:var(--space-5)}.room-code{font-family:var(--font-mono);font-size:var(--text-xl);letter-spacing:.1em;color:var(--accent)}.score-dot{display:inline-block;width:10px;height:10px;border-radius:50%;flex-shrink:0}.lobby-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100%;padding:var(--space-8) var(--space-4);gap:var(--space-8)}.lobby-logo{font-size:var(--text-2xl);font-weight:700;letter-spacing:.02em;color:var(--text-primary)}.lobby-mode-toggle{display:flex;border:1px solid var(--border);border-radius:var(--radius-md);overflow:hidden;width:100%;max-width:320px}.mode-btn{flex:1;padding:var(--space-2) 0;border:none;background:var(--bg-surface);color:var(--text-secondary);font-size:var(--text-sm);font-family:var(--font-sans);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast)}.mode-btn+.mode-btn{border-left:1px solid var(--border)}.mode-btn.active{background:var(--accent-muted);color:var(--accent);font-weight:600}.lobby-mode-hint{font-size:var(--text-xs);color:var(--text-muted);text-align:center;max-width:320px;line-height:1.4}.lobby-actions{display:flex;flex-direction:column;align-items:center;gap:var(--space-4);width:100%;max-width:320px}.lobby-actions .btn{width:100%}.lobby-divider{font-size:var(--text-sm);color:var(--text-muted);position:relative;width:100%;text-align:center}.lobby-divider:before,.lobby-divider:after{content:"";position:absolute;top:50%;width:42%;height:1px;background:var(--border)}.lobby-divider:before{left:0}.lobby-divider:after{right:0}.join-form{display:flex;flex-direction:column;gap:var(--space-2);width:100%}.join-form .input{text-transform:uppercase;letter-spacing:.08em;font-family:var(--font-mono)}.join-form .input:last-of-type{text-transform:none;letter-spacing:normal;font-family:var(--font-sans)}.lobby-error{color:var(--danger);font-size:var(--text-sm);text-align:center}.config-panel{background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-4)}.config-panel summary{cursor:pointer;font-size:var(--text-sm);font-weight:600;color:var(--text-secondary);list-style:none;padding:var(--space-1) 0}.config-panel summary::-webkit-details-marker{display:none}.config-grid{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-3);margin:var(--space-4) 0}.config-field{display:flex;flex-direction:column;gap:var(--space-1);font-size:var(--text-sm);color:var(--text-secondary)}.config-field input,.config-field select{padding:var(--space-1) var(--space-2);border:1px solid var(--border);border-radius:var(--radius-sm);background:var(--bg-elevated);color:var(--text-primary);font-size:var(--text-sm);font-family:var(--font-sans);outline:none}.config-field input:focus,.config-field select:focus{border-color:var(--border-focus)}.config-save{width:100%;margin-top:var(--space-2)}.waiting-room{display:flex;flex-direction:column;align-items:center;gap:var(--space-4);padding:var(--space-8) var(--space-4);width:100%;max-width:480px;margin:0 auto}.room-code-block{display:flex;align-items:center;gap:var(--space-3);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-lg);padding:var(--space-3) var(--space-5)}.room-code-label{font-size:var(--text-sm);color:var(--text-muted)}.room-code{font-family:var(--font-mono);font-size:var(--text-xl);letter-spacing:.12em;color:var(--accent)}.player-list{width:100%;display:flex;flex-direction:column;gap:var(--space-2)}.player-list-empty{font-size:var(--text-sm);color:var(--text-muted);text-align:center;padding:var(--space-3) 0}.player-item{display:flex;align-items:center;gap:var(--space-3);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-md);padding:var(--space-2) var(--space-3)}.player-dot{width:12px;height:12px;border-radius:50%;flex-shrink:0}.player-name{flex:1;font-size:var(--text-sm);color:var(--text-primary)}.player-item-actions{display:flex;gap:var(--space-1);margin-left:auto}.btn-icon-sm{padding:0 var(--space-2);height:22px;border:none;border-radius:var(--radius-sm);background:transparent;color:var(--text-muted);font-size:var(--text-xs);cursor:pointer;line-height:1;transition:background var(--transition-fast),color var(--transition-fast)}.btn-kick:hover{background:var(--danger);color:#fff}.btn-edit-name:hover{background:var(--bg-elevated);color:var(--accent)}.player-badge{font-size:10px;font-weight:600;padding:1px 5px;border-radius:var(--radius-full);line-height:1.4;white-space:nowrap}.player-badge--admin{background:var(--accent-muted);color:var(--accent)}.player-badge--me{background:var(--bg-elevated);color:var(--text-muted)}.player-badge--ready{background:#5ce07a26;color:var(--success)}.player-name-input{flex:1;padding:1px var(--space-2);font-size:var(--text-sm);height:22px}.hud-top{position:absolute;top:var(--space-3);left:50%;transform:translate(-50%);display:flex;align-items:center;gap:var(--space-4);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-full);padding:var(--space-1) var(--space-5);box-shadow:var(--shadow-sm);white-space:nowrap;pointer-events:none}.hud-round{font-size:var(--text-sm);font-weight:600;color:var(--text-secondary)}.hud-phase{font-size:var(--text-xs);color:var(--text-muted);text-transform:uppercase;letter-spacing:.06em}.hud-phase[data-phase=planning]{color:var(--success)}.hud-phase[data-phase=resolving]{color:var(--warning)}.hud-phase[data-phase=ended]{color:var(--text-muted)}.hud-timer{font-size:var(--text-lg);font-weight:700;font-variant-numeric:tabular-nums;font-family:var(--font-mono);color:var(--text-primary);min-width:2ch;text-align:center}.hud-score{position:absolute;top:var(--space-3);right:var(--space-4);display:flex;flex-direction:column;gap:2px}.score-entry{display:flex;align-items:center;gap:var(--space-2);background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-sm);padding:2px var(--space-2);font-size:var(--text-xs)}.score-name{color:var(--text-secondary);max-width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.score-count{font-weight:700;font-variant-numeric:tabular-nums;color:var(--text-primary);margin-left:auto;padding-left:var(--space-2)}.zoom-controls{position:absolute;bottom:var(--space-4);right:var(--space-4);display:flex;flex-direction:column;gap:2px}.zoom-btn{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--bg-surface);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text-secondary);font-size:var(--text-base);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast);user-select:none}.zoom-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.end-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-6);padding:var(--space-8) var(--space-4);min-height:100%}.end-winner{display:flex;flex-direction:column;align-items:center;gap:var(--space-2)}.end-winner-label{font-size:var(--text-sm);color:var(--text-muted);text-transform:uppercase;letter-spacing:.08em}.end-winner-name{font-size:var(--text-2xl);font-weight:700}.end-ranking{border-collapse:collapse;font-size:var(--text-sm);min-width:280px}.end-ranking th,.end-ranking td{padding:var(--space-2) var(--space-3);text-align:left;border-bottom:1px solid var(--border)}.end-ranking th{color:var(--text-muted);font-weight:500}.end-ranking tr.eliminated td{opacity:.4}.end-actions{display:flex;gap:var(--space-3)}.version-list{display:flex;flex-direction:column;gap:var(--space-5)}.version-entry{display:flex;flex-direction:column;gap:var(--space-2)}.version-entry-header{display:flex;align-items:baseline;gap:var(--space-3)}.version-tag{font-family:var(--font-mono);font-size:var(--text-sm);font-weight:700;color:var(--accent);background:var(--accent-muted);padding:1px 8px;border-radius:var(--radius-full)}.version-date{font-size:var(--text-xs);color:var(--text-muted)}.version-changes{list-style:none;display:flex;flex-direction:column;gap:3px}.version-changes li{font-size:var(--text-sm);color:var(--text-secondary);padding-left:var(--space-4);position:relative}.version-changes li:before{content:"â€“";position:absolute;left:var(--space-2);color:var(--text-muted)}
